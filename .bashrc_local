#!/bin/bash

[[ $SHELL = "/nix/"* ]] && return
[[ -f ~/norc ]] && return

# user environment variables
export PATH="$PATH:$HOME/.user/scripts:$HOME/.user/bin"
export PATH="$PATH:$HOME/.node/bin:$HOME/.cargo/bin"
export PATH="$PATH:$HOME/.golang/bin:$HOME/.go/bin"
export LD_LIBRARY_PATH="$LD_LIBRARY_PATH:$HOME/.user/lib"
export NODE_PATH="$NODE_PATH:$HOME/.node/lib/node_modules"
export GOPATH="$HOME/.go"
export EDITOR="vim"
export TERMINAL="$HOME/st/st"
export PREFIXPATH="$HOME/storage/prefix"
export SRCPATH="$HOME/storage/src"
export NIX_PATH="$NIX_PATH:$HOME/.nix-defexpr-user"
# Fix misbehaving java applications in dwm
export _JAVA_AWT_WM_NONREPARENTING=1

if [[ ! -z "$PS1" ]] && [[ -n "$BASH_VERSION" ]]; then
    # only for bash
    source ~/.bash/bindkeys.sh
    eval "$(fasd --init auto)"
fi

# load helper scripts
[[ -f ~/.bash/functions.sh ]] && . ~/.bash/functions.sh
[[ -f ~/.bash/aliases.sh ]] && . ~/.bash/aliases.sh
[[ -f ~/.bash/stage.sh ]] && . ~/.bash/stage.sh
